<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eco-Friendly Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body, html {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .navbar {
      background-color: #278a00;
      color: white;
      height: 60px;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 20px;
    }

    .navbar-content {
      width: 100%;
      max-width: 1140px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
    }

    .navbar-brand {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-weight: bold;
      font-size: 1.5rem;
      text-decoration: none;
    }

    .cart-btn, #searchToggle {
      background: white;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      font-weight: bold;
    }

    #searchBarContainer {
      display: none;
      padding: 20px;
      background-color: #f1f1f1;
      position: relative;
      z-index: 9;
      margin-top: 60px;
    }

    main {
      padding: 40px 20px 100px;
      background-color: #f8f9fa;
    }

    .product-card {
      background-color: #fff;
      border-radius: 8px;
      padding: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .product-card img {
      width: 100%;
      height: 120px;
      object-fit: contain;
      margin-bottom: 8px;
    }

    .stars { font-size: 0.9rem; color: #4caf50; margin-bottom: 6px; }
    .price { font-size: 15px; margin-bottom: 8px; }

    .eco-badge {
      font-size: 12px;
      padding: 3px 6px;
      border-radius: 4px;
      display: inline-block;
      color: #fff;
    }

    .eco-high { background-color: #28a745; }
    .eco-medium { background-color: #ffc107; color: #000; }
    .eco-low { background-color: #dc3545; }

    footer {
      background-color: #278a00;
      color: white;
      height: 50px;
      line-height: 50px;
      text-align: center;
    }
  </style>
</head>
<body>

  <!-- Header -->
  <nav class="navbar">
    <div class="navbar-content">
      <div></div>
      <a class="navbar-brand" href="#">Eco Cart Sustainable Assistant</a>
      <div class="d-flex align-items-center">
        <button class="btn btn-light me-2" id="searchToggle">ğŸ”</button>
        <button class="cart-btn" id="cartButton">ğŸ›’ Cart</button>
      </div>
    </div>
  </nav>

  <!-- Google & Local Search -->
  <div id="searchBarContainer" class="text-center">
    <script async src="https://cse.google.com/cse.js?cx=9133dc39e6a794124"></script>
    <div class="gcse-search"></div>
    <div class="mt-3 mb-3">
      <input type="text" id="localSearchInput" class="form-control w-75 mx-auto" placeholder="Search products...">
    </div>
  </div>

  <!-- Main Content -->
  <main class="pt-5 mt-5">
    <div class="container">
      <div class="row" id="productContainer"></div>
      <button class="btn btn-outline-success d-block mx-auto mt-3" id="showMoreBtn">Show More</button>
    </div>
  </main>

  <footer>
    EcoCart Â© 2025
  </footer>

  <script>
    const cart = [];
    const products = [
    { name: "Ecofriendly Houseware", brand: "GreenLiving", image: "images/12.jpg", price: 7.99, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Metal-free Compostable Utensils" },
      { name: "Plastic Toothbrush", brand: "GenericCo", image: "images/111.jpg", price: 2.50, rating: "â˜…â˜…â˜†â˜†â˜†", ecoRating: "low", alternative: "Bamboo Toothbrush" },
      { name: "Reusable Metal Straw", brand: "SipSmart", image: "images/222.jpg", price: 3.00, rating: "â˜…â˜…â˜…â˜†â˜†", ecoRating: "medium", alternative: "Bamboo Straw" },
      { name: "Recycled Notebook", brand: "EcoWrite", image: "images/8.jpg", price: 4.75, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Digital Notes App" },
      { name: "Reusable Coffee Cup", brand: "BrandX", image: "images/3.jpg", price: 1.99, rating: "â˜…â˜†â˜†â˜†â˜†", ecoRating: "low", alternative: "Steel Water Bottle" },
      { name: "Biodegradable Trash Bags", brand: "EarthCare", image: "images/7.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
      { name: "Hemp Backpack", brand: "EarthCare", image: "images/4.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
      { name: "Coconut Oil", brand: "EarthCare", image: "images/5.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
      { name: "Compostable Phone Case", brand: "EarthCare", image: "images/6.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
      { name: "Natural Honey", brand: "EarthCare", image: "images/9.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
      { name: "Kasoori Majal", brand: "EarthCare", image: "images/10.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
      { name: "Natural Soap", brand: "EarthCare", image: "images/11.jpg", price: 5.49, rating: "â˜…â˜…â˜…â˜…â˜†", ecoRating: "high", alternative: "Compost Bin" },
    ];

    let showAll = false;
    let filteredProducts = [...products];

    function getEcoBadge(rating) {
      if (rating === "high") return '<span class="eco-badge eco-high">Eco Rating: High</span>';
      if (rating === "medium") return '<span class="eco-badge eco-medium">Eco Rating: Medium</span>';
      return '<span class="eco-badge eco-low">Eco Rating: Low</span>';
    }

    function renderProducts(productList = filteredProducts) {
      const container = document.getElementById("productContainer");
      container.innerHTML = "";

      const visible = showAll ? productList : productList.slice(0, 6);
      visible.forEach((p, index) => {
        container.innerHTML += `
          <div class="col-md-4 mb-4">
            <div class="product-card h-100">
              <img src="${p.image}" alt="${p.name}" class="img-fluid mb-2 rounded">
              <h5>${p.name}</h5>
              <p><strong>Brand:</strong> ${p.brand}</p>
              <div class="stars">${p.rating}</div>
              <div>${getEcoBadge(p.ecoRating)}</div>
              <div class="price"><strong>Price:</strong> $${p.price.toFixed(2)}</div>
              <p><strong>Greener Alternative:</strong> ${p.alternative}</p>
              <button class="btn btn-success w-100 add-to-cart" data-index="${index}">Add to Cart</button>
            </div>
          </div>
        `;
      });

      document.querySelectorAll('.add-to-cart').forEach(button => {
        button.onclick = () => {
          const product = visible[button.dataset.index];
          if (!cart.includes(product.name)) {
            cart.push(product.name);
            localStorage.setItem("cartItems", JSON.stringify(cart));
            alert("Added to cart!");
          } else {
            alert("Product already in cart!");
          }
        };
      });

      document.getElementById("showMoreBtn").style.display = (!showAll && productList.length > 6) ? "block" : "none";
    }

    document.getElementById("searchToggle").onclick = () => {
      const searchBar = document.getElementById("searchBarContainer");
      searchBar.style.display = searchBar.style.display === "none" ? "block" : "none";
    };

    document.getElementById("showMoreBtn").onclick = () => {
      showAll = true;
      renderProducts();
    };

    document.getElementById("localSearchInput").oninput = function () {
      const term = this.value.toLowerCase();
      filteredProducts = products.filter(p =>
        p.name.toLowerCase().includes(term) || p.brand.toLowerCase().includes(term)
      );
      showAll = false;
      renderProducts();
    };

    renderProducts();
  </script>
</body>
</html>